<div class="relative ">
  <div class="grid grid-cols-3 gap-6 py-5">
    @for ( product of filteredProducts; track product.productId) {
    <app-product-card
      [product]="product"
      (productClicked)="selectProduct($event)"
    ></app-product-card>
    }
  </div>
<!-- Pagination Component -->
<div class="flex items-center justify-center mt-8 space-x-2">
  <!-- First Page Button -->
  <button
    class="flex items-center px-3 py-2 text-sm font-medium transition-colors border rounded-lg hover:bg-blue-50"
    [class.text-gray-400]="currentPage === 1"
    [class.border-gray-200]="currentPage === 1"
    [class.text-blue-600]="currentPage !== 1"
    [class.border-blue-200]="currentPage !== 1"
    [class.hover:bg-blue-50]="currentPage !== 1"
    (click)="goToFirstPage()"
    [disabled]="currentPage === 1"
  >
    <svg class="w-5 h-5 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19l-7-7 7-7m8 14l-7-7 7-7" />
    </svg>
    First
  </button>

  <!-- Previous Page Button -->
  <button
    class="flex items-center px-3 py-2 text-sm font-medium transition-colors border rounded-lg hover:bg-blue-50"
    [class.text-gray-400]="currentPage === 1"
    [class.border-gray-200]="currentPage === 1"
    [class.text-blue-600]="currentPage !== 1"
    [class.border-blue-200]="currentPage !== 1"
    [class.hover:bg-blue-50]="currentPage !== 1"
    (click)="changePage(currentPage - 1)"
    [disabled]="currentPage === 1"
  >
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
    </svg>
  </button>

  <!-- Page Numbers -->
  <div class="flex items-center space-x-1">
    <ng-container *ngFor="let page of getPageRange(); let i = index">
      <button
        *ngIf="page !== '...'"
        class="flex items-center justify-center w-10 h-10 text-sm font-medium transition-colors border rounded-lg"
        [class.bg-blue-600]="currentPage === page"
        [class.text-white]="currentPage === page"
        [class.border-blue-600]="currentPage === page"
        [class.text-gray-700]="currentPage !== page"
        [class.border-gray-200]="currentPage !== page"
        [class.hover:bg-blue-50]="currentPage !== page"
        (click)="changePage(page)"
      >
        {{ page }}
      </button>
      
      <span
        *ngIf="page === '...'"
        class="flex items-center justify-center w-10 h-10 text-sm text-gray-500"
      >
        ...
      </span>
    </ng-container>
  </div>

  <!-- Next Page Button -->
  <button
    class="flex items-center px-3 py-2 text-sm font-medium transition-colors border rounded-lg hover:bg-blue-50"
    [class.text-gray-400]="currentPage === totalPages"
    [class.border-gray-200]="currentPage === totalPages"
    [class.text-blue-600]="currentPage !== totalPages"
    [class.border-blue-200]="currentPage !== totalPages"
    [class.hover:bg-blue-50]="currentPage !== totalPages"
    (click)="changePage(currentPage + 1)"
    [disabled]="currentPage === totalPages"
  >
    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
    </svg>
  </button>

  <!-- Last Page Button -->
  <button
    class="flex items-center px-3 py-2 text-sm font-medium transition-colors border rounded-lg hover:bg-blue-50"
    [class.text-gray-400]="currentPage === totalPages"
    [class.border-gray-200]="currentPage === totalPages"
    [class.text-blue-600]="currentPage !== totalPages"
    [class.border-blue-200]="currentPage !== totalPages"
    [class.hover:bg-blue-50]="currentPage !== totalPages"
    (click)="goToLastPage()"
    [disabled]="currentPage === totalPages"
  >
    Last
    <svg class="w-5 h-5 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 5l7 7-7 7M5 5l7 7-7 7" />
    </svg>
  </button>
</div>
  <!-- Product Details Modal -->
  <div
    *ngIf="selectedProduct"
    class="fixed inset-0 z-50 flex items-center justify-center"
  >
    <!-- Blurred Background -->
    <div class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm"></div>

    <!-- Product Details Content -->
    <div
      class="relative z-10 w-11/12 max-w-4xl py-6 pr-8 bg-white shadow-2xl rounded-2xl md:flex-row md:space-y-0 md:space-x-10"
    >
      <!-- Close Button -->
      <button
        (click)="closeProductDetails()"
        class="absolute text-3xl text-gray-500 top-2 right-2"
      >
        &times;
      </button>

      <div class="flex flex-col">
        <div class="flex items-start justify-between">
          <div>
            <img
              [src]="selectedProduct.imageUrl"
              alt="Product Image"
              class="w-full pr-4 mx-auto duration-200 hover:scale-105"
            />
          </div>
          <div class="px-4">
            <!-- Title -->
            <div
              class="text-3xl font-bold text-center text-orange-600 md:text-left"
            >
              {{ selectedProduct.productName }}
              MOTUL 10W40 Engine Oil - 1200 Litre
            </div>

            <!-- Rating and Reviews -->
            <div class="flex items-center space-x-2 text-center md:text-left">
              <div class="flex items-center">
                <!-- Star Ratings (Assume 5-star ratings display) -->
                <span>⭐⭐⭐⭐⭐</span>
                <p class="px-1 text-xs text-gray-500">(167909 reviews)</p>
                <p class="px-1 text-xs text-gray-500">167909 sold</p>
              </div>
            </div>

            <!-- Stock Status -->
            <div class="flex flex-col items-start font-bold text-green-600">
              <div class="flex">
                <p>In-stock</p>
                <p class="px-2 text-black">( {{ selectedProduct.quantity }} Available)</p>
              </div>
              <br />
              <p class="text-black">Manufacturer :  {{ selectedProduct.manufacture }}</p>
              <p class="text-black">Material :  {{ selectedProduct.material }}</p>
              <p class="text-black">Category :  {{ selectedProduct.category }}</p>
            </div>
          </div>
          <div
            class="flex flex-col items-center justify-around px-4 py-4 bg-gray-200 border h-72 rounded-2xl"
          >
            <!-- Price Container -->
            <div class="text-4xl font-bold text-center text-gray-900">
              Rs.450,000/=
              <p class="text-sm text-gray-500">Price per Can includes VAT.</p>
            </div>

            <!-- Quantity Selector -->
            <div class="flex items-center">
              <button class="px-4 py-2 text-gray-700 bg-gray-200">-</button>
              <p class="text-black">10 units</p>
              <button class="px-4 py-2 text-gray-700 bg-gray-200">+</button>
            </div>

            <!-- Button Group -->
            <div class="flex flex-col items-center justify-around w-full p-4">
              <button
                class="w-full py-3 my-4 text-white transition duration-150 bg-orange-500 rounded-lg shadow-lg hover:bg-orange-600"
              >
                Add to Cart
              </button>
              <button
                class="w-full py-3 text-black transition duration-150 bg-gray-300 rounded-lg shadow-lg hover:bg-gray-400"
              >
                Buy Now
              </button>
            </div>
          </div>
        </div>

        <!-- Product Description -->
        <div class="max-w-4xl p-6 bg-white rounded-lg shadow-lg">
          <div class="flex justify-start pb-4 mb-4 border-b">
            <h3 class="pr-4 text-2xl font-bold text-black">Description</h3>
            <h3 class="text-2xl font-bold text-black">Reviews</h3>
          </div>
          <p class="text-gray-700">
             {{ selectedProduct.itemDescription }}
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
