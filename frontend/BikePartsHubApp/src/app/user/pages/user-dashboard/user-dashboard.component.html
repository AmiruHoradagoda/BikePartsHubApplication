<div class="min-h-screen py-8 bg-gray-900">
  <div class="max-w-6xl px-4 mx-auto sm:px-6 lg:px-8">
    <!-- Loading State -->
    <div *ngIf="isLoading" class="flex justify-center my-4">
      <div class="w-8 h-8 border-4 border-orange-500 rounded-full animate-spin border-t-transparent"></div>
    </div>

    <!-- Error Message -->
    <div *ngIf="errorMessage" class="p-4 mb-4 text-red-300 rounded-lg bg-red-900/50">
      {{ errorMessage }}
      <button (click)="retryLoad()" class="ml-4 text-orange-500 hover:text-orange-400">
        Retry
      </button>
    </div>

    <!-- Header -->
    <div class="p-6 mb-6 bg-gray-800 rounded-lg shadow-lg">
      <div class="flex items-center justify-between">
        <div class="flex items-center space-x-4">
          <div class="flex items-center justify-center w-12 h-12 text-xl font-semibold text-white bg-orange-500 rounded-full">
            {{ currentUser?.firstName?.charAt(0) }}{{ currentUser?.lastName?.charAt(0) }}
          </div>
          <div>
            <h1 class="text-2xl font-bold text-white">
              Welcome back, {{ currentUser?.firstName }}!
            </h1>
            <p class="text-gray-400">{{ currentUser?.email }}</p>
          </div>
        </div>
        <button (click)="logout()" class="px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-md hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500">
          Logout
        </button>
      </div>
    </div>

    <!-- Navigation Tabs -->
    <div class="mb-6 bg-gray-800 rounded-lg shadow-lg">
      <nav class="flex border-b border-gray-700">
        <button [ngClass]="{ 'border-b-2 border-orange-500 text-orange-500': activeTab === 'profile' }" 
                (click)="changeTab('profile')" 
                class="flex-1 px-4 py-4 text-sm font-medium text-center text-gray-300 hover:text-orange-400">
          Profile
        </button>
        <button [ngClass]="{ 'border-b-2 border-orange-500 text-orange-500': activeTab === 'orders' }" 
                (click)="changeTab('orders')" 
                class="flex-1 px-4 py-4 text-sm font-medium text-center text-gray-300 hover:text-orange-400">
          Orders
        </button>
        <button [ngClass]="{ 'border-b-2 border-orange-500 text-orange-500': activeTab === 'settings' }" 
                (click)="changeTab('settings')" 
                class="flex-1 px-4 py-4 text-sm font-medium text-center text-gray-300 hover:text-orange-400">
          Settings
        </button>
      </nav>

      <!-- Tab Content -->
      <div class="p-6">
        <!-- Profile Tab -->
        <div *ngIf="activeTab === 'profile'" class="space-y-6">
          <form [formGroup]="profileForm" (ngSubmit)="updateProfile()" class="space-y-6">
            <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
              <!-- First Name Input -->
              <div class="relative">
                <label class="block mb-1 text-sm font-medium text-gray-300">First Name</label>
                <input type="text" 
                       formControlName="firstName" 
                       class="w-full px-4 py-3 text-white placeholder-gray-400 transition-all duration-200 ease-in-out border border-gray-600 rounded-lg bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500" />
              </div>

              <!-- Last Name Input -->
              <div class="relative">
                <label class="block mb-1 text-sm font-medium text-gray-300">Last Name</label>
                <input type="text" 
                       formControlName="lastName" 
                       class="w-full px-4 py-3 text-white placeholder-gray-400 transition-all duration-200 ease-in-out border border-gray-600 rounded-lg bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500" />
              </div>

              <!-- Email Input -->
              <div class="relative sm:col-span-2">
                <label class="block mb-1 text-sm font-medium text-gray-300">Email Address</label>
                <input type="email" 
                       formControlName="email" 
                       class="w-full px-4 py-3 text-white placeholder-gray-400 transition-all duration-200 ease-in-out border border-gray-600 rounded-lg bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500" 
                       readonly />
              </div>

              <!-- Address Input -->
              <div class="relative sm:col-span-2">
                <label class="block mb-1 text-sm font-medium text-gray-300">Address</label>
                <input type="text" 
                       formControlName="address" 
                       class="w-full px-4 py-3 text-white placeholder-gray-400 transition-all duration-200 ease-in-out border border-gray-600 rounded-lg bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500" />
              </div>

              <!-- Phone Number Input -->
              <div class="relative sm:col-span-2">
                <label class="block mb-1 text-sm font-medium text-gray-300">Phone Number</label>
                <input type="tel" 
                       formControlName="phone" 
                       class="w-full px-4 py-3 text-white placeholder-gray-400 transition-all duration-200 ease-in-out border border-gray-600 rounded-lg bg-gray-700/50 focus:outline-none focus:ring-2 focus:ring-orange-500/50 focus:border-orange-500" />
              </div>

              <!-- Save Button -->
              <div class="flex justify-end sm:col-span-2">
                <button type="submit" 
                        class="px-6 py-3 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-lg hover:from-orange-600 hover:to-orange-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:ring-offset-gray-900 transition-all duration-200 ease-in-out transform hover:scale-[1.02]">
                  Save Changes
                </button>
              </div>
            </div>
          </form>
        </div>

        <!-- Orders Tab -->
        <div *ngIf="activeTab === 'orders'" class="space-y-6">
          <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-700">
              <thead class="bg-gray-700">
                <tr>
                  <th class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-300 uppercase">Order ID</th>
                  <th class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-300 uppercase">Date</th>
                  <th class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-300 uppercase">Status</th>
                  <th class="px-6 py-3 text-xs font-medium tracking-wider text-left text-gray-300 uppercase">Total</th>
                </tr>
              </thead>
              <tbody class="bg-gray-800 divide-y divide-gray-700">
                <tr *ngFor="let order of recentOrders">
                  <td class="px-6 py-4 text-sm font-medium text-gray-300 whitespace-nowrap">#{{ order.orderId }}</td>
                  <td class="px-6 py-4 text-sm text-gray-400 whitespace-nowrap">{{ formatDate(order.date) }}</td>
                  <td class="px-6 py-4 whitespace-nowrap">
                    <span [ngClass]="getStatusClass(order.status)" 
                          class="inline-flex px-2 py-1 text-xs font-semibold leading-5 rounded-full">
                      {{ order.status }}
                    </span>
                  </td>
                  <td class="px-6 py-4 text-sm text-gray-400 whitespace-nowrap">${{ order.total.toFixed(2) }}</td>
                </tr>
                <tr *ngIf="!recentOrders || recentOrders.length === 0">
                  <td colspan="4" class="px-6 py-4 text-sm text-center text-gray-400">No orders found</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Settings Tab -->
        <div *ngIf="activeTab === 'settings'" class="space-y-6">
          <div class="p-4 text-sm text-gray-400 bg-gray-800 rounded-lg">
            <h3 class="mb-4 text-lg font-medium text-white">Account Settings</h3>
            <p>Settings features coming soon...</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>